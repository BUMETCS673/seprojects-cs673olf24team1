
---

# üåü Model API Service

Welcome to the **Model API Service**! This directory encompasses the core functionalities of the project. We implemented the llm model using Langchain and a decision tree algorithm. Then, expose it as an API using FastAPI/Uvicorn. Docker is used to containerize and deploy on the cloud.

## üîç Core Features

1. **Model Implementation**:  
   - Utilizes **GPT-4o** with **Retrieval-Augmented Generation (RAG)** via LangChain.  
   - We integrate the course builder and the large language model all under **`model.py`**.

2. **API Service Creation**:  
   - Built on **Langserve/FastAPI** for efficient API service.  
   - Main service code can be found in **`main.py`**.

3. **Deployment**:  
   - Currently hosted locally for development purposes.

---

## üöß Development Progress

### Ongoing Tasks:

1. **Chat History** & **Session ID**: Implementing support for tracking conversation history. [‚úîÔ∏è]
2. **Vector Storage Integration**: Enhancing data retrieval efficiency with vector storage. [‚úîÔ∏è]
3. **Course Builder Agent**: A special agent to automatically detect the course builder request [‚úîÔ∏è]

---

## üìñ API Service Documentation

To get the API up and running, execute the following command:

```bash
docker-compose up --build
```

---

## ‚öôÔ∏è Usage

Once the service is up and running, you can access the API at: http://localhost:9080 or http://0.0.0.0:9080

### üöÄ API Call Examples

#### **Endpoint**:  
```http
POST /api/v1/chatbot
```

**Description**:  
Submit student data to retrieve a personalized course schedule. This should be done at the beginning of the conversation, returning a simple string message. The user_id must be unique for each user.

**Request Body**:
```json
{
  "user_id": "buid_or_whatever_1234",
  "student_name": "John Doe",
  "course_taken": [521],
  "path_interest": "secure software development",
  "course_to_take": 4,
  "message": "Hi! What can you do for me?"
}
```

1. **`user_id`**:  
   - **Type**: String  
   - **Description**: A unique identifier for each user or student. This ensures the system can track the conversation or session per user and recall information specific to them. It could be a university ID (e.g., BUID) or any other unique identifier generated for the student.
   
2. **`student_name`**:  
   - **Type**: String  
   - **Description**: The full name of the student making the request. This is used for personalization in responses and to address the user directly in conversation.

3. **`course_taken`**:  
   - **Type**: Array of integers  
   - **Description**: A list of course IDs that the student has already completed. It should be corresponding to the course number without the department abbreviation. For example, [521, 673, 777]

4. **`path_interest`**:  
   - **Type**: String  
   - **Description**: The student‚Äôs academic or career path of interest. This should be exactly one of these five elements `"ai/ml"`, `"secure software development"`, `"web development"`, `"app development"`, and `"data science"`. Failing to match the string ot having a typo will result in an error.

5. **`course_to_take`**:  
   - **Type**: Integer  
   - **Description**: The number of courses the student wishes to enroll in for the upcoming semester. This allows the system to recommend an appropriate number of courses based on their current academic load and desired schedule.

6. **`message`**:  
   - **Type**: String  
   - **Description**: The initial message from the student, which could be a simple greeting or a specific question. The model processes this message and responds based on the context of the conversation. This helps trigger the model's course recommendation logic or provide other general responses based on the user's input.

### **Response Example:**

```json
{
  "response": "Hi John!, this is your recommended courses ... feel free to ask more!"
}
```

1. **`response`**:  
   - **Type**: String  
   - **Description**: A message generated by the chatbot, providing a response to the user's query. In this case, it includes a personalized greeting and course recommendation. The message can evolve based on the conversation, and subsequent responses may include detailed course suggestions, advice, or additional follow-up questions to guide the student.

---
